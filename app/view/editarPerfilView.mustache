<link rel="stylesheet" href="/public/styles.css">

<a href="/usuario/showPerfil"><input class="volver" type="button" value="Volver"></a>

{{#cambios}}
     <p> {{cambios}} </p>
{{/cambios}}

{{#usuario}}
    <form class="datos-contenedor" action="/usuario/actualizarPerfil" method="post" enctype="multipart/form-data">

        <label for="nombreCompleto">Nombre Completo:</label>
        <input type="text" id="nombreCompleto" name="nombreCompleto" value="{{nombreCompleto}}" required>
        {{#error_messages}}
            {{#nameInvalido}}
                <p class="error">{{.}}</p>
            {{/nameInvalido}}
        {{/error_messages}}

        <label for="nombreUsuario">Nombre usuario:</label>
        <input type="text" id="nombreUsuario" name="nombreUsuario" value="{{nombreUsuario}}" required>
        {{#error_messages}}
            {{#usernameInvalido}}
                <p class="error">{{.}}</p>
            {{/usernameInvalido}}

            {{#usernameExistente}}
            <p class="error">{{.}}</p>
            {{/usernameExistente}}

        {{/error_messages}}

        <label for="mail">Mail:</label>
        <input type="email" id="mail" name="mail" value="{{mail}}" required>
        {{#error_messages}}
            {{#mailInvalido}}
                <p class="error">{{.}}</p>
            {{/mailInvalido}}

            {{#mailExistente}}
            <p class="error">{{.}}</p>
            {{/mailExistente}}

        {{/error_messages}}

        <label for="fechaNacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fechaNacimiento" name="fechaNacimiento" value="{{fechaNacimiento}}" required>
        {{#error_messages}}
            {{#dateInvalido}}
                <p class="error">{{.}}</p>
            {{/dateInvalido}}
        {{/error_messages}}

        <label for="sex">Sexo:</label>
                   <select name="sex" id="sex" >
                   <option value="masculino">Masculino</option>
                   <option value="femenino">Femenino</option>
                   <option value="decirlo">Prefiero no decirlo</option>
                   </select>
        {{#error_messages}}
            {{#sexInvalido}}
                <p class="error">{{.}}</p>
            {{/sexInvalido}}
        {{/error_messages}}

        <label for="foto">Foto de Perfil:</label>
        <img src="{{foto}}" alt="Foto de Perfil" style="max-width: 100px; max-height: 100px;"/> <!-- Mostrar la foto actual -->
        <input type="file" id="foto" name="foto">
        {{#error_messages}}
            {{#imagenInvalida}}
                <p class="error">{{.}}</p>
            {{/imagenInvalida}}
        {{/error_messages}}

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password">
        {{#error_messages}}
            {{#passwordInvalido}}
                <p class="error">{{.}}</p>
            {{/passwordInvalido}}
        {{/error_messages}}

        <label for="password2">Confirmar Contraseña:</label>
        <input type="password" id="password2" name="password2">
        {{#error_messages}}
            {{#password2Invalido}}
                <p class="error">{{.}}</p>
            {{/password2Invalido}}
        {{/error_messages}}

        <button class="guardarCambios" type="submit">Guardar Cambios</button>
    </form>

{{/usuario}}
